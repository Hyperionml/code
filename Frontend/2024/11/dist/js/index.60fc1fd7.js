(function(){"use strict";var t={4371:function(t,s,e){var a=e(5471),i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"nav"},[t._m(0),s("All")],1)},r=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"header"},[s("span",[t._v("轴承误差检测系统")])])}],n=function(){var t=this,s=t._self._c;return s("div",{staticClass:"zong"},[s("div",{staticClass:"left-body"},[s("div",{staticClass:"canlook"},[s("router-link",{staticClass:"list-item",attrs:{replace:"",to:"/dataLook","active-class":"active"}},[t._v("数据可视化")])],1),s("div",{staticClass:"xinxi",on:{click:t.change01}},[s("span",[t._v("轴承信息")]),s("i",{staticClass:"fas fa-angle-down"})]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}]},[s("div",{staticClass:"second"},[s("router-link",{staticClass:"list-item",attrs:{replace:"",to:"/historydata","active-class":"active"}},[t._v("历史数据")])],1),s("div",{staticClass:"thrid"},[s("router-link",{staticClass:"list-item",attrs:{replace:"",to:"/listdata","active-class":"active"}},[t._v("分页数据")])],1),s("div",{staticClass:"first"},[s("router-link",{staticClass:"list-item",attrs:{replace:"",to:"/alldata","active-class":"active"}},[t._v("全表内容")])],1)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"right-body"},[s("transition",{attrs:{name:"slide-in"}},[s("router-view",{staticClass:"router-view"})],1)],1)])},o=[],l={name:"All",data(){return{dataItem:"",isShow:!1,activeRouter:null,isShow02:!1}},methods:{handClick(){this.change(),this.isShow&&this.qingqiu()},change01(){this.isShow=!this.isShow}}},u=l,c=e(1656),d=(0,c.A)(u,n,o,!1,null,null,null),h=d.exports,v={name:"App",components:{All:h}},m=v,p=(0,c.A)(m,i,r,!1,null,null,null),g=p.exports,f=e(173),_=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"thirdBox"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.istrue,expression:"istrue"}]},[s("div",[t._v("轴承总数:"+t._s(t.dataItem.length))]),s("div",[t._v("出错数量:"+t._s(t.errSum))]),s("div",[t._v("数据:")])]),s("table",{directives:[{name:"show",rawName:"v-show",value:t.istrue,expression:"istrue"}]},[t._m(0),s("tbody",t._l(t.dataItem,(function(e,a){return s("tr",{key:a},[s("td",{staticClass:"tf"},[t._v(t._s(e.sid))]),s("td",{staticClass:"ts"},[t._v(t._s(e.name))]),s("td",{staticClass:"tt"},[t._v(t._s(e.status))])])})),0)])])])},C=[function(){var t=this,s=t._self._c;return s("thead",[s("tr",[s("th",{staticClass:"tf"},[t._v("id")]),s("th",{staticClass:"ts"},[t._v("名称")]),s("th",{staticClass:"tt"},[t._v("当前状态")])])])}],b=(e(4114),e(4335));const w=b.A.create({baseURL:"",timeout:5e3,headers:{"Content-Type":"application/json"}});w.interceptors.request.use((t=>t),(t=>Promise.reject(t))),w.interceptors.response.use((t=>t),(t=>(t.response?console.error("状态错误",t.response.status):t.request?console.error("没收到响应",t.request):console.error("信息出错",t.message),Promise.reject(t))));var y=w,I=e(5353),x={name:"Alldata",data(){return{dataItem:this.$store.state.dataItem,dataItem1:[],errSum:this.$store.state.errSum,right:0,le:this.$store.state.lengths,istrue:!1}},created(){this.qingqiu(),this.startPolling()},computed:{...(0,I.aH)(["lengths"])},methods:{...(0,I.PY)(["FUZHI01","FUZHI02","FUZHI03"]),qingqiu(){y.get("/api/gdupt/bearing/list").then((t=>{this.dataItem1=t.data.reMsg,console.log(this.dataItem1),this.istrue=!0,this.startTimer()})).catch((t=>{console.log("有错",t)}))},startPolling(){setInterval(this.qingqiu,5e3)},startTimer(){for(this.le;this.le<this.dataItem1.length;this.le++)this.dataItem.push(this.dataItem1[this.le]),this.turnData01(this.dataItem1[this.le].sid),"err"==this.dataItem1[this.le].status&&(this.turnData02(this.dataItem1[this.le].sid,this.dataItem1[this.le].status),this.judge());this.FUZHI01(this.le),this.FUZHI02(this.dataItem)},judge(){this.errSum++,this.FUZHI03(this.errSum)},turnData01(t){y.put("/api/gdupt/history/add",t).then((t=>{console.log("成功")})).catch((t=>{console.log("有错",t)}))},turnData02(t,s){y.post("/api/gdupt/history/updateBy1",{sid:t,errMsg:s}).then((t=>{console.log("成功")})).catch((t=>{console.log("有错",t)}))},beforeDestroy(){this.istrue=!1}}},D=x,q=(0,c.A)(D,_,C,!1,null,null,null),k=q.exports,A=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"firstBox"},[s("div",{staticClass:"upContext"},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.sidData,expression:"sidData"}],staticClass:"block",attrs:{type:"text",placeholder:"请输入序号"},domProps:{value:t.sidData},on:{input:function(s){s.target.composing||(t.sidData=s.target.value)}}})]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"block",attrs:{type:"date"},domProps:{value:t.value},on:{input:function(s){s.target.composing||(t.value=s.target.value)}}})]),s("div",[s("button",{staticClass:"block third",on:{click:t.qingqiu}},[t._v("查询")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.istrue,expression:"istrue"}]},[s("br"),null!=t.dataItem?s("div",[s("table",[t._m(0),s("tbody",[s("tr",[s("td",{staticClass:"tf"},[t._v(t._s(t.dataItem.sid))]),s("td",{staticClass:"ts"},[t._v(t._s(t.dataItem.errCount))]),s("td",{staticClass:"tt"},[t._v(t._s(t.dataItem.datetime))])])])]),null!=t.errMsgData?s("div",{staticClass:"footData"},[s("div",{staticClass:"footData-left"},[t._v("errMsg")]),s("div",{staticClass:"footData-right"},[t._v(t._s(t.qie))])]):t._e()]):s("div",[t._v("数据不存在")])])])])},S=[function(){var t=this,s=t._self._c;return s("thead",[s("tr",[s("th",{staticClass:"tf"},[t._v("id")]),s("th",{staticClass:"ts"},[t._v("错误数量")]),s("th",{staticClass:"tt"},[t._v("时间")])])])}],j={name:"Historydata",data(){return{dataItem:[],errMsgData:"",newErrMsgData:[],sidData:1,timeData:"",value:"2024-11-01",istrue:!1}},created(){this.qingqiu()},methods:{formatDate(t){var s=new Date(t),e=""+(s.getMonth()+1),a=""+s.getDate(),i=s.getFullYear();return e.length<2&&(e="0"+e),a.length<2&&(a="0"+a),[i,e,a].join("-")},qingqiu(){const t=this.formatDate(this.value);y.get(`/api/gdupt/history/get?sid=${this.sidData}&date=${t}`).then((t=>{this.dataItem=t.data.reMsg,null!=this.dataItem&&(this.errMsgData=t.data.reMsg.errMsg),this.istrue=!0}),(t=>{console.log("请求失败了",t.message)}))}},computed:{qie(){return this.errMsgData.substring(6)}}},M=j,O=(0,c.A)(M,A,S,!1,null,null,null),F=O.exports,H=function(){var t=this,s=t._self._c;return s("div",{staticClass:"sb"},[s("div",{staticClass:"secondBox"},[t._l(t.dataItem,(function(e,a){return s("div",{key:a},[t.page==e.sid?s("div",[s("table",{directives:[{name:"show",rawName:"v-show",value:t.istrue,expression:"istrue"}]},[t._m(0,!0),s("tbody",[s("tr",[s("td",{staticClass:"tf"},[t._v(t._s(e.sid))]),s("td",{staticClass:"ts"},[t._v(t._s(e.name))]),s("td",{staticClass:"tt"},[t._v(t._s(e.status))])])])])]):t._e()])})),s("div",{staticClass:"sc-buttom-box"},[s("div",{staticClass:"sc-buttom-box-s"},[s("span",[t._v("共 "+t._s(t.dataItem.length)+" 页")])]),s("div",{staticClass:"sc-buttom-box-f"},[s("i",{staticClass:"fas fa-angle-left",on:{click:t.jian}}),s("span",[t._v("第 "+t._s(this.page)+" 页")]),s("i",{staticClass:"fas fa-angle-right",on:{click:t.jia}})])])],2)])},P=[function(){var t=this,s=t._self._c;return s("thead",[s("tr",[s("th",{staticClass:"tf"},[t._v("id")]),s("th",{staticClass:"ts"},[t._v("名称")]),s("th",{staticClass:"tt"},[t._v("当前状态")])])])}],U={name:"Listdata",data(){return{dataItem:"",page:1,istrue:!1}},methods:{qingqiu(){y.get("/api/gdupt/bearing/page?page=1&pageSize=3").then((t=>{this.dataItem=t.data.reMsg,this.istrue=!0}),(t=>{console.log("请求失败了",t.message)}))},jian(){1!=this.page&&this.page--},jia(){this.page<this.dataItem.length&&this.page++}},created(){this.qingqiu()}},Z=U,N=(0,c.A)(Z,H,P,!1,null,null,null),T=N.exports,$=function(){var t=this,s=t._self._c;return s("div",{staticClass:"start"},[t._v(" 可视化 ")])},B=[],L={},z=L,E=(0,c.A)(z,$,B,!1,null,null,null),R=E.exports,Y=new f.Ay({routes:[{path:"/dataLook",component:R},{path:"/historydata",component:F},{path:"/listdata",component:T},{path:"/alldata",component:k}]});a.Ay.use(I.Ay);const G={},J={FUZHI01(t,s){t.lengths=s},FUZHI02(t,s){t.dataItem=s},FUZHI03(t,s){t.errSum=s}},K={lengths:0,dataItem:[],errSum:0};var Q=new I.Ay.Store({actions:G,mutations:J,state:K});a.Ay.config.productionTip=!1,a.Ay.use(f.Ay),new a.Ay({el:"#app",render:t=>t(g),router:Y,store:Q,beforeCreate(){a.Ay.prototype.$bus=this}})}},s={};function e(a){var i=s[a];if(void 0!==i)return i.exports;var r=s[a]={exports:{}};return t[a].call(r.exports,r,r.exports,e),r.exports}e.m=t,function(){var t=[];e.O=function(s,a,i,r){if(!a){var n=1/0;for(c=0;c<t.length;c++){a=t[c][0],i=t[c][1],r=t[c][2];for(var o=!0,l=0;l<a.length;l++)(!1&r||n>=r)&&Object.keys(e.O).every((function(t){return e.O[t](a[l])}))?a.splice(l--,1):(o=!1,r<n&&(n=r));if(o){t.splice(c--,1);var u=i();void 0!==u&&(s=u)}}return s}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[a,i,r]}}(),function(){e.d=function(t,s){for(var a in s)e.o(s,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:s[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={57:0};e.O.j=function(s){return 0===t[s]};var s=function(s,a){var i,r,n=a[0],o=a[1],l=a[2],u=0;if(n.some((function(s){return 0!==t[s]}))){for(i in o)e.o(o,i)&&(e.m[i]=o[i]);if(l)var c=l(e)}for(s&&s(a);u<n.length;u++)r=n[u],e.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return e.O(c)},a=self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=e.O(void 0,[504],(function(){return e(4371)}));a=e.O(a)})();
//# sourceMappingURL=index.60fc1fd7.js.map